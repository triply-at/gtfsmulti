<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating, storing and analyzing multi-modal transportation networks • gtfsmulti</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Creating, storing and analyzing multi-modal transportation networks">
<meta property="og:description" content="Implements a very experimental approach to creating, storing and
  analyzing multi-modal transportation networks using GTFS-Multi feeds.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gtfsmulti</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/website_only/01_intro.html">1. Introducing the GTFS-Multi format</a>
    </li>
    <li>
      <a href="articles/website_only/02_route.html">2. Multi-modal routing with a GTFS-Multi feed</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="creating-storing-and-analyzing-multi-modal-transportation-networks-with-gtfs-multi-feeds">Creating, storing and analyzing multi-modal transportation networks with GTFS-Multi feeds<a class="anchor" aria-label="anchor" href="#creating-storing-and-analyzing-multi-modal-transportation-networks-with-gtfs-multi-feeds"></a>
</h1></div>
<p>The <code>gtfsmulti</code> R package implements a very experimental approach to creating, storing and analyzing multi-modal transportation networks.</p>
<p>The broad idea is as follows. We first create a fine regular grid over an area of interest. Each grid point forms a possible origin and destination of a multi-modal trip. Then we pre-calculate street network travel times for different legs of a multi-modal trip. That is: from each grid point to nearby transit stops (<em>access trips</em>), from each transit stop to nearby grid points (<em>egress trips</em>), between nearby transit stops (<em>transfer trips</em>) and between nearby grid points (<em>direct trips</em>). Multiple transport modes (e.g. walking, biking) can be included in these calculations, and edge weights can be flexibly defined for each of the modes (i.e. not limited to only optimizing travel time).</p>
<p>The grid itself can be added to a <a href="https://developers.google.com/transit/gtfs" class="external-link">GTFS feed</a> feed as a table in similar format as a standard <a href="https://developers.google.com/transit/gtfs/reference#stopstxt" class="external-link">stops table</a>, while the access, egress, transfer and direct trips are all added to the GTFS feed as separate tables in similar format as a standard <a href="https://developers.google.com/transit/gtfs/reference#transferstxt" class="external-link">transfer table</a>. All together this forms a <em>GTFS-Multi feed</em>.</p>
<p>When finding multi-modal routes with such a GTFS-Multi feed, all street network travel times can be integrated in the timetable of the transit network, and <em>only</em> a timetable-based routing algorithm is enough to solve the multi-modal routing task.</p>
<p>The ideas and applications are explained in much more detail in two articles (since they are quite large they are currently not included as regular package vignettes):</p>
<ul>
<li>
<a href="vignettes/intro.Rmd">Intro</a>: This article explains how the ideas behind the approach developed and how you can construct a GTFS-Multi feed.</li>
<li>
<a href="vignettes/route.Rmd">Route</a>: This article shows how to calculate multi-modal routes with a GTFS-Multi feed.</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>At this moment the package can only be installed from source. Using <code>remotes</code> is the easiest way to do so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"luukvdmeer/gtfsmulti"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contribution">Contribution<a class="anchor" aria-label="anchor" href="#contribution"></a>
</h2>
<p>The ideas are still very experimental. If you like them, you are very welcome to contribute in some way. For example, contributing code in the form of pull requests, but also reporting bug, requesting features, asking questions or sharing ideas of any kind. For writing code, I try to use the <a href="https://style.tidyverse.org/" class="external-link">tidyverse styleguide</a>, although I tend to prefer <code>=</code> instead of <code>&lt;-</code> for assignments.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>A lot of the conceptual ideas behind the approach are inspired by how Conveyal is approaching multi-modal routing with their <a href="https://github.com/conveyal/r5" class="external-link">R5 routing engine</a>. For basically all the hard work in the background, however, <code>gtfsmulti</code> borrows the horsepower of R packages <a href="https://github.com/ATFutures/dodgr" class="external-link">dodgr</a> and <a href="https://github.com/ATFutures/gtfs-router" class="external-link">gtfsrouter</a>.</p>
</div>
<div class="section level2">
<h2 id="copyright">Copyright<a class="anchor" aria-label="anchor" href="#copyright"></a>
</h2>
<p>Copyright (C) 2021 triply GmbH</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="https://www.gnu.org/licenses/" class="external-link uri">https://www.gnu.org/licenses/</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gtfsmulti</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lucas van der Meer <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Lucas van der Meer.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
